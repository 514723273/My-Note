> 参考文章地址：http://luopq.com/2015/11/08/CSS-float/

## 1 float 规则

包含块：离浮动元素最近的块级祖先元素。

浮动元素：会从普通文档流中脱离（不会撑其父元素的宽高），但浮动元素影响的不仅是自己（形成块，可以设置宽高），它会影响周围的元素对齐进行环绕（不脱离文本流）。

我认为总的规则：就是 float 不会重叠，会自动另起一行，总是尽量靠左靠上

### 1.1 规则一

浮动元素在浮动的时候，其`margin`不会超过包含块的`padding`。（浮动元素的浮动位置不会超过包含块的内边界，在其内部）（除非负 margin）

### 1.2 规则二

如果有多个浮动元素，后面的浮动元素的`margin`不会超过前面浮动元素的`margin`（简单说就是如果有多个浮动元素，浮动元素会按顺序排下来而**不会发生重叠**的现象）

### 1.3 规则三

如果两个元素一个向左浮动，一个向右浮动，左浮动元素的`margin-right`不会和右浮动元素的`margin-left`相邻（超过长度限制，就另起一行）。

参考[margin边距重合对比测试](https://github.com/514723273/Exercise-Project/blob/master/html%26css/CSSTest/margin边距重合测试.html)

### 1.4 规则四

浮动元素顶端不会超过包含块的内边界底端（同规则一），如果有多个浮动元素，下一个浮动元素的顶端不会超过上一个浮动元素的底端（就是不会重叠，而是另起一行）。

### 1.5 规则五

如果有非浮动元素和浮动元素同时存在，并且非浮动元素在前，则浮动元素不会高于非浮动元素。

### 1.6 规则六

浮动元素会尽可能地向顶端对齐、向左或向右对齐。

## 2 float 特殊情况

### 2.1 浮动元素的延伸性

由于子 float 不撑起父元素的高度，所以当 子 float 元素的高度大于父元素，就会超出父元素的底端。

解决方式：只要将父元素也设置成浮动即可。

将父元素设置成`float:left`后，浮动元素就会被包含到父元素里面，我们将这个特性成为浮动元素的延伸性。

（感觉也有点清楚浮动地意思，但是这种做法改变了父元素的浮动！下面清楚浮动的方式还是保证父元素没有变化！）

## 3 clear 属性

clear属性：确保当前元素的左右两侧不会有浮动元素。

使用clear属性的时候要记住：**clear只对元素本身的布局起作用。**

例如两个浮动元素`float: left`，会并排向左浮动。如果想让第二个浮动元素另起一行，对比以下两种解决方案：
1. （错误）将第一个浮动元素设置`clear: right`，不想右边出现浮动元素。（不能对其他元素指手画脚！`clear right` 我认为是右浮动的时候使用）
2. （正确）将第二个浮动元素设置`clear: left`，不想左边出现浮动元素。（为了达到我左边没有浮动元素，我就自己另起一行）

## 4 清除浮动

{!!!}

### 4.1 为什么要清楚浮动？

众所周知，一个块级元素如果没有设置height，其 height 是由子元素撑开的。

float 元素是脱离文档流的，所以父元素没有内容可以撑开高度，这样父元素的 height 就会被忽略，造成所谓的**高度塌陷**！

为了解决这样的问题，我们需要清楚浮动。

### 4.2 三种清楚浮动的方式

（对于**IE浏览器**来说，要清除浮动带来的问题，只需要触发器 hasLayout 就可以，直接设置样式 `zoom:1` 就可以触发。）

#### 4.2.1 增加额外的 div

这是最简单直接的方法，哪里有浮动元素，就在其父级元素的内容中增加一个（作为最后一个子元素）。

`clear: both` 就是不允许左右两边任何一边出现浮动元素，又因为我放在最后，所以只能憋屈地另起一行到最后，这样，父元素地高度就被这一个元素给撑起来了。

```html
<div style="clear:both"></div>
```

- 优点：简单直接，初学者常常使用的方法，也易于理解
- 缺点：增加额外的无意义标签，不利于语义化，每次清除都要添加额外的空标签，造成浪费

#### 4.2.2 父级元素添加 overflow: hidden

触发了 BFC

```css
.clearfix{ 
    overflow: hidden;
    zoom: 1;
}
```

- 优点：代码量少，没有额外的标签
- 缺点：如果子元素超出父元素的范围，会造成超出的部分被隐藏

#### 4.2.3 after 伪元素

这种方法的原理和第一个方法一样，就是生成一个元素来清除浮动，只是这个元素是“假的”。



```css
.clearfix {
    zoom: 1;                /* 应该是兼容 IE */
}

.clearfix::after {
    display: block; 
    clear: both; 
    content: '';            /*保证不可见*/
    height: 0;              /*保证不可见*/
    visibility: hidden;     /*不可见*/
}
```

`::after` 会**作为子元素**出现在 .clearfix 元素的末尾。

- 优点：没有额外标签，综合起来算是比较好的方法
- 缺点：稍显复杂，但是理解其原理后也挺简单的

## 5 徒手写一个 横向菜单栏 + 三栏两列布局

![横向菜单栏+三栏两列布局](https://raw.githubusercontent.com/514723273/.md-Pictures/master/横向菜单栏三栏两列布局.png)

应用浮动和清楚浮动的地方在：菜单栏、左右分栏。

参考代码：[横向菜单栏+三栏两列布局](https://github.com/514723273/Exercise-Project/blob/master/html%26css/CSSTest/%E6%A8%AA%E5%90%91%E8%8F%9C%E5%8D%95%E6%A0%8F%2B%E4%B8%89%E6%A0%8F%E4%B8%A4%E5%88%97%E5%B8%83%E5%B1%80.html)
